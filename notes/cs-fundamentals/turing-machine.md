# 图灵机 (Turing Machine)

## 什么是图灵机？

### 一句话定义

> **图灵机是一种抽象的计算模型，用于定义"什么是可计算的"。**

它不是一台实际的机器，而是一个**数学概念**——用来精确描述计算的本质和极限。

### 直观理解

想象一个最简单的"计算机"：

```
        ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐
纸带:   │ 0 │ 1 │ 1 │ 0 │ 1 │ 0 │ 0 │ 1 │ … │ … │ … │ … │  ← 无限长
        └───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┘
                      ▲
                      │
                 ┌────┴────┐
                 │ 读写头  │  ← 可左右移动，读取/写入符号
                 └────┬────┘
                      │
                 ┌────┴────┐
                 │ 控制器  │  ← 根据规则表决定下一步
                 │ (状态)  │
                 └─────────┘
```

这就是图灵机的全部构成——看似简单，却能模拟任何计算机程序。

---

## 历史背景

### 可判定性问题 (Entscheidungsproblem)

**1928年** - 大卫·希尔伯特（David Hilbert）提出著名的**判定问题**：

> "是否存在一种通用的机械方法，可以判定任意数学命题的真假？"

这个问题激发了20世纪30年代逻辑学和计算理论的大发展。

### 图灵的突破

**1936年** - 年仅24岁的艾伦·图灵（Alan Turing）发表了划时代的论文：

> **《论可计算数及其在判定问题上的应用》** (On Computable Numbers, with an
> Application to the Entscheidungsproblem)

在这篇论文中，图灵：

1. **定义了图灵机模型** - 精确描述了什么是"机械计算"
2. **证明了停机问题不可判定** - 存在无法用算法解决的问题
3. **否定了希尔伯特的判定问题** - 不存在万能的判定方法
4. **奠定了可计算性理论基础** - 开创了理论计算机科学

### 同时代的其他工作

| 时间 | 人物           | 贡献                                           |
| ---- | -------------- | ---------------------------------------------- |
| 1931 | 哥德尔 (Gödel) | 不完备性定理，证明数学系统存在不可证明的真命题 |
| 1936 | 丘奇 (Church)  | Lambda 演算，另一种计算模型（与图灵机等价）    |
| 1936 | 图灵 (Turing)  | 图灵机，机械计算的精确定义                     |
| 1936 | 波斯特 (Post)  | 波斯特机，类似图灵机的模型                     |

这些工作共同奠定了计算理论的数学基础。

---

## 图灵机的形式定义

### 七元组定义

图灵机 M 由以下七元组定义：

```
M = (Q, Σ, Γ, δ, q₀, q_accept, q_reject)
```

| 符号         | 含义       | 说明                             |
| ------------ | ---------- | -------------------------------- |
| **Q**        | 有限状态集 | 机器可能处于的所有状态           |
| **Σ**        | 输入字母表 | 合法的输入符号集合，不包含空白符 |
| **Γ**        | 纸带字母表 | 纸带上可能出现的符号，Σ ⊂ Γ      |
| **δ**        | 转移函数   | δ: Q × Γ → Q × Γ × {L, R}        |
| **q₀**       | 初始状态   | 机器的起始状态，q₀ ∈ Q           |
| **q_accept** | 接受状态   | 进入此状态表示计算成功           |
| **q_reject** | 拒绝状态   | 进入此状态表示计算失败           |

### 转移函数详解

转移函数 δ 是图灵机的核心，它定义了机器的行为规则：

```
δ(q, a) = (q', b, D)
```

含义：当机器处于状态 q，读到符号 a 时：

1. 转移到新状态 q'
2. 将符号 a 改写为 b
3. 读写头向方向 D 移动（L=左, R=右）

### 计算过程示例

假设一个图灵机判断二进制数是否为偶数（最后一位是否为0）：

```
输入: 1 0 1 0
初始状态: q_start

步骤 1: 状态=q_start, 读取=1, 动作=右移
        [1] 0  1  0  _
            ↑

步骤 2: 状态=q_start, 读取=0, 动作=右移
         1 [0] 1  0  _
               ↑

步骤 3: 状态=q_start, 读取=1, 动作=右移
         1  0 [1] 0  _
                  ↑

步骤 4: 状态=q_start, 读取=0, 动作=右移
         1  0  1 [0] _
                     ↑

步骤 5: 状态=q_start, 读取=空白, 回退检查最后一位

步骤 6: 读取=0, 是偶数 → q_accept ✓
```

---

## 图灵机的变体

### 多纸带图灵机

拥有多条纸带和多个读写头：

```
纸带 1: │ a │ b │ c │ d │ … │
               ▲
纸带 2: │ x │ y │ z │ … │ … │
                   ▲
纸带 3: │ 1 │ 0 │ 1 │ 1 │ … │
            ▲
```

**定理**：多纸带图灵机与单纸带图灵机的计算能力相同（可相互模拟）。

### 非确定性图灵机 (NTM)

允许在每一步有多个可能的选择：

```
           ┌─ (q₁, a, R)
δ(q, a) = ─┼─ (q₂, b, L)   ← 三种可能的转移
           └─ (q₃, c, R)
```

**定理**：NTM 可以被确定性图灵机模拟（但可能需要指数级的时间）。

这是 P vs NP 问题的核心：确定性模拟非确定性是否必然需要指数时间？

### 概率图灵机

在转移规则中引入随机性，是现代随机算法的理论基础。

### 量子图灵机

使用量子叠加态和量子纠缠，是量子计算的理论模型。

---

## 核心概念

### 可计算性 (Computability)

**定义**：一个函数 f 是图灵可计算的，当且仅当存在一台图灵机 M，使得：

- 对于任意输入 x，M 会在有限步内停机
- 停机时纸带上的内容是 f(x)

### 可判定性 (Decidability)

**定义**：一个问题是可判定的，当且仅当存在一台图灵机：

- 对于所有输入，都会在有限步内停机
- 输出"是"或"否"的正确答案

### 停机问题 (Halting Problem)

**问题描述**：给定一个程序 P 和输入 x，判断 P(x) 是否会停机？

**图灵证明**：停机问题是**不可判定的**。

这是计算理论中最重要的**不可能性结果**。

#### 证明思路（对角线论证）

假设存在一个神奇的判定器 H(P, x)：

```
H(P, x) = {
  "停机"  如果程序 P 在输入 x 上会停机
  "不停机" 如果程序 P 在输入 x 上会永远运行
}
```

构造一个邪恶的程序 D(x)：

```
D(x) = {
  无限循环  如果 H(x, x) = "停机"
  停机      如果 H(x, x) = "不停机"
}
```

现在问：D(D) 会停机吗？

- 如果 D(D) 停机 → H(D, D) = "停机" → D(D) 无限循环 → 矛盾！
- 如果 D(D) 不停机 → H(D, D) = "不停机" → D(D) 停机 → 矛盾！

**结论**：判定器 H 不可能存在。

### 其他不可判定问题

| 问题                 | 描述                               |
| -------------------- | ---------------------------------- |
| **停机问题**         | 程序是否会停机                     |
| **等价问题**         | 两个程序是否等价                   |
| **莱斯定理**         | 程序的任何非平凡语义性质都不可判定 |
| **波斯特对应问题**   | 字符串匹配问题                     |
| **希尔伯特第十问题** | 丢番图方程是否有整数解             |

---

## 图灵完备性

### 定义

一个计算系统是**图灵完备**的，当且仅当它能模拟任意图灵机。

等价地说：任何图灵可计算的问题，都能在这个系统上解决。

### 图灵完备的系统

| 类别             | 示例                                             |
| ---------------- | ------------------------------------------------ |
| **编程语言**     | C, Python, JavaScript, Rust, Haskell, …          |
| **理论模型**     | Lambda 演算, 递归函数, 元胞自动机                |
| **意外图灵完备** | Excel 公式, CSS + HTML, PowerPoint, Minecraft, … |
| **硬件**         | 现代 CPU, GPU                                    |

### 最小化图灵完备

令人惊讶的是，实现图灵完备所需的元素极少：

**Rule 110 元胞自动机**：仅用一条规则就实现图灵完备

```
当前状态:  111 110 101 100 011 010 001 000
下一状态:   0   1   1   0   1   1   1   0
```

**Brainfuck**：仅用 8 个命令的图灵完备语言

```brainfuck
命令: > < + - . , [ ]
示例: ++++++++[>++++[>++>+++>+++>+<<<<-]>+>+>->>+[<]<-]>>
      .>---.+++++++..+++.>>.<-.<.+++.------.--------.>>+.
输出: Hello World!
```

---

## 丘奇-图灵论题

### 论题陈述

> **任何直觉上可计算的函数，都是图灵可计算的。**

这不是一个数学定理（无法形式化证明），而是一个**经验假说**。

### 支持证据

1. **多种计算模型等价**
   - 图灵机 ≡ Lambda 演算 ≡ 递归函数 ≡ Post 系统 ≡ …
   - 所有试图定义"计算"的形式系统都证明是等价的

2. **七十多年无反例**
   - 从未发现任何可计算的函数不能在图灵机上实现

3. **物理世界的验证**
   - 所有已知物理过程都可以被图灵机模拟（可能需要指数时间）

### 物理丘奇-图灵论题

> **任何可以被物理设备计算的函数，都可以被图灵机有效地模拟。**

这个更强的版本与量子计算有关：量子计算机可能比经典图灵机更快，但（据信）不能计算更多的东西。

---

## 图灵机与现代计算机

### 本质联系

```
图灵机                          现代计算机
─────────────────────────────────────────────────
无限纸带         ←→          内存 + 存储
读写头           ←→          CPU 指令指针
状态寄存器       ←→          CPU 寄存器
转移函数表       ←→          程序（指令集）
```

### 关键区别

| 图灵机           | 现代计算机       |
| ---------------- | ---------------- |
| 无限纸带         | 有限内存         |
| 纯粹理论模型     | 物理硬件实现     |
| 定义可计算性边界 | 实际执行计算任务 |
| 不考虑效率       | 高度优化性能     |

### 冯·诺依曼架构

1945年冯·诺依曼提出的架构是图灵机思想的实际工程实现：

- **存储程序**：程序和数据存储在同一内存中
- **顺序执行**：按地址顺序执行指令
- **可编程性**：通过改变程序改变机器行为

---

## 图灵的影响与遗产

### 计算机科学之父

图灵被公认为**"计算机科学之父"**和**"人工智能之父"**：

| 领域             | 贡献                           |
| ---------------- | ------------------------------ |
| **可计算性理论** | 图灵机、停机问题、可判定性     |
| **密码学**       | 二战破解 Enigma 密码机         |
| **人工智能**     | 图灵测试（1950年）             |
| **生物学**       | 形态发生的化学基础（图灵斑图） |
| **计算机工程**   | ACE 计算机设计                 |

### 图灵奖

计算机科学领域的最高荣誉——**图灵奖** (Turing
Award)，被誉为"计算机界的诺贝尔奖"，自1966年起每年颁发。

### 图灵的悲剧

1952年，图灵因同性恋被定罪（当时英国法律视为犯罪），被迫接受化学阉割。1954年，年仅41岁的图灵去世，疑似自杀。

2009年，英国首相戈登·布朗正式道歉。2013年，英国女王伊丽莎白二世正式赦免图灵。

---

## 相关概念

- **[状态机](./state-machine.md)**：图灵机的有限状态基础
- **[Lambda演算](./lambda-calculus.md)**：与图灵机等价的函数式计算模型
- **[P vs NP问题](./p-vs-np.md)**：计算复杂性理论的核心问题
- **[量子计算](./quantum-computing.md)**：超越经典图灵机的计算范式

---

## 延伸阅读

1. **《图灵的秘密》** - Charles Petzold - 逐行解读图灵1936年论文
2. **《艾伦·图灵传》** - Andrew Hodges - 图灵的权威传记
3. **《计算理论导引》** - Michael Sipser - 教科书级的形式化介绍
4. **《哥德尔、艾舍尔、巴赫》** - Douglas Hofstadter - 思想的交响曲
