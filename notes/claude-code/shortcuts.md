<!--
- [INPUT]: 依赖 notes/claude-code/CLAUDE.md 的模块定位与索引
- [OUTPUT]: 输出 快捷键速查 文档
- [POS]: 位于 notes/claude-code 模块的 快捷键速查 笔记
- [PROTOCOL]: 变更时更新此头部，然后检查 CLAUDE.md
-->

# 快捷键速查

## 通用控制

| 快捷键 | 功能 |
|--------|------|
| `Ctrl+C` | 中断当前操作 |
| `Ctrl+C` (两次) | 退出 Claude Code |
| `Ctrl+D` | 退出 Claude Code |
| `Ctrl+L` | 清屏（保留历史） |
| `Ctrl+O` | 切换详细输出模式 |
| `Ctrl+R` | 反向搜索历史命令 |
| `Tab` | 自动补全 |
| `↑` / `↓` | 浏览输入历史 |
| `Esc` + `Esc` | 回退代码/对话 |
| `Shift+Tab` 或 `Alt+M` | 切换权限模式 |
| `Option+P` (macOS) 或 `Alt+P` | 切换模型 |

## 图片操作

| 快捷键 | 功能 |
|--------|------|
| `Ctrl+V` (macOS/Linux) | 粘贴剪贴板图片 |
| `Alt+V` (Windows) | 粘贴剪贴板图片 |
| 拖拽 | 直接拖拽图片到终端 |

## 多行输入

| 方式 | 快捷键 | 说明 |
|------|--------|------|
| 快速换行 | `\` + `Enter` | 所有终端通用 |
| macOS 默认 | `Option+Enter` | macOS 默认 |
| 终端设置后 | `Shift+Enter` | 需运行 `/terminal-setup` |
| 控制序列 | `Ctrl+J` | 换行符 |
| 粘贴模式 | 直接粘贴 | 代码块、日志等 |

## 快捷前缀

| 前缀 | 功能 | 示例 |
|------|------|------|
| `/` | 斜杠命令 | `/help`, `/model` |
| `!` | 直接执行 Bash | `! npm test` |
| `@` | 引用文件并自动补全 | `@src/index.ts` |
| `#` | 添加到记忆 | `# 使用 TypeScript` |

## 历史搜索

`Ctrl+R` 进入反向搜索模式：

| 操作 | 功能 |
|------|------|
| 输入关键词 | 搜索匹配的历史 |
| 再按 `Ctrl+R` | 切换到上一个匹配 |
| `Tab` 或 `Esc` | 接受当前匹配 |
| `Ctrl+C` | 取消搜索 |

## Vim 模式

使用 `/vim` 启用 vim 编辑模式。

### 模式切换

| 快捷键 | 功能 | 来自模式 |
|--------|------|----------|
| `Esc` | 进入 NORMAL 模式 | INSERT |
| `i` | 光标前插入 | NORMAL |
| `I` | 行首插入 | NORMAL |
| `a` | 光标后插入 | NORMAL |
| `A` | 行尾插入 | NORMAL |
| `o` | 下方新行并插入 | NORMAL |
| `O` | 上方新行并插入 | NORMAL |

### 导航 (NORMAL 模式)

| 快捷键 | 功能 |
|--------|------|
| `h` / `j` / `k` / `l` | 左 / 下 / 上 / 右 |
| `w` | 下一个单词开头 |
| `e` | 当前单词结尾 |
| `b` | 上一个单词开头 |
| `0` | 行首 |
| `$` | 行尾 |
| `^` | 第一个非空字符 |
| `gg` | 输入开头 |
| `G` | 输入结尾 |

### 编辑 (NORMAL 模式)

| 快捷键 | 功能 |
|--------|------|
| `x` | 删除字符 |
| `dd` | 删除整行 |
| `D` | 删除到行尾 |
| `dw` / `de` / `db` | 删除单词/到词尾/向前 |
| `cc` | 修改整行 |
| `C` | 修改到行尾 |
| `cw` / `ce` / `cb` | 修改单词/到词尾/向前 |
| `.` | 重复上次修改 |
| `u` | 撤销 |
| `Ctrl+R` | 重做 |
| `yy` | 复制整行 |
| `yw` | 复制单词 |
| `p` | 粘贴 |

### 提交 (Vim 模式)

| 快捷键 | 功能 |
|--------|------|
| `Ctrl+Enter` | 提交输入 |

## 后台任务

| 操作 | 说明 |
|------|------|
| Claude 自动 | Claude 可将长时间命令放入后台 |
| `Ctrl+B` | 手动将命令放入后台 |
| `Ctrl+B` (两次) | tmux 环境下的后台操作 |
| `/bashes` 或 `/tasks` | 查看后台任务 |

## 权限模式切换

使用 `Shift+Tab` 或 `Alt+M` 在以下模式间切换：

| 模式 | 说明 |
|------|------|
| Normal | 默认，需要授权 |
| Auto-Accept | 自动接受文件编辑 |
| Plan | 只分析不执行 |

## IDE 快捷键

### VS Code

| 快捷键 | 功能 |
|--------|------|
| `Cmd/Ctrl+Shift+P` → "Claude: Ask" | 打开 Claude 面板 |
| 选中代码 → 右键 → "Ask Claude" | 询问选中代码 |

### JetBrains

在 Settings → Keymap 中配置 Claude Code 快捷键。
